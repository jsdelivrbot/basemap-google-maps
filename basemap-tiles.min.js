!function(){var e={geolandbasemap:"png",bmapgrau:"png",bmaphidpi:"jpg",bmaporthofoto30cm:"jpg",bmapoverlay:"png"};"object"==typeof google&&"object"==typeof google.maps&&(google.maps.ImageMapType=function(e){var a=function(){arguments.length&&e.apply(this,arguments)};return a.prototype=e.prototype,a}(google.maps.ImageMapType),google.maps.BasemapMapType=function(a){if(!(a in e))throw"Map type not found";var p=e[a];return google.maps.ImageMapType.call(this,{getTileUrl:function(e,o){var t=1<<o,n=e.x%t,g=0>n?n+t:n,l=e.y,r=(o+g+l)%4,s=function(e){var a=Math.sin(e.lat*Math.PI/180);return{x:Math.floor((.5+e.lng/360)*t),y:Math.floor((.5-Math.log((1+a)/(1-a))/(4*Math.PI))*t)}},m=[{lat:46.41,lng:9.53},{lat:49.02,lng:17.17}],i=s(m[0]),y=s(m[1]);return g>y.x||l<y.y||g<i.x||l>i.y?null:"//maps{S}.wien.gv.at/basemap/{N}/normal/google3857/{Z}/{Y}/{X}.{E}".replace("{S}",r?r:"").replace("{N}",a).replace("{Z}",o).replace("{X}",g).replace("{Y}",l).replace("{E}",p)},tileSize:new google.maps.Size(256,256),name:a,alt:"Tiles &copy; basemap.at",minZoom:3,maxZoom:19})},google.maps.BasemapMapType.prototype=new google.maps.ImageMapType,Basemap=function(e){var a=new google.maps.BasemapMapType(1==window.devicePixelRatio?"geolandbasemap":"bmaphidpi"),p=new google.maps.BasemapMapType("bmaporthofoto30cm"),o=new google.maps.BasemapMapType("bmapoverlay"),t=new google.maps.LatLngBounds(new google.maps.LatLng(46.41,9.53),new google.maps.LatLng(49.02,17.17)),n=(e.addListener("maptypeid_changed",function(){("hybrid"==e.getMapTypeId()||"satellite"==e.getMapTypeId())&&(e.overlayMapTypes.clear(),e.overlayMapTypes.insertAt(0,p)),"hybrid"==e.getMapTypeId()&&e.overlayMapTypes.insertAt(1,o),("roadmap"==e.getMapTypeId()||"terrain"==e.getMapTypeId())&&(e.overlayMapTypes.clear(),e.overlayMapTypes.push(a))}),google.maps.event.addListener(e,"center_changed",function(){if(!t.contains(e.getCenter())){var a=e.getCenter(),p=a.lng(),o=a.lat(),n=t.getNorthEast().lng(),g=t.getNorthEast().lat(),l=t.getSouthWest().lng(),r=t.getSouthWest().lat();l>p&&(p=l),p>n&&(p=n),r>o&&(o=r),o>g&&(o=g),e.setCenter(new google.maps.LatLng(o,p))}}),document.createElement("div"));n.innerHTML='Datenquelle: <a href="http://www.basemap.at/" target="_blank">basemap.at</a>',n.style.cssText="white-space: nowrap;background-color: #fff;opacity: .7;padding: 1px 5px 2px;font-size: 10px",e.controls[google.maps.ControlPosition.BOTTOM_RIGHT].push(n),e.overlayMapTypes.clear(),e.overlayMapTypes.push(a)})}();
